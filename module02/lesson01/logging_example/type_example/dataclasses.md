# Data Classes (dataclasses)

В Python 3.7 було введено новий декоратор в стандартній бібліотеці під назвою dataclasses, який надає зручний спосіб створення класів, що в основному використовуються для зберігання даних. Ці класи часто називають "data classes". Ідея полягає в тому, щоб зменшити вручну написаний "шаблонний" код та автоматизувати його.

Основні переваги dataclasses:

- Автоматична генерація спеціальних методів: Методи, такі як `__init__`, `__repr__`, та `__eq__` генеруються автоматично.
- Анотації типів: Вони співпрацюють з системою анотацій типів Python.
- Змінні класу: Для налаштування поведінки та значень за замовчуванням.
- Імутабельність: Можливість створення незмінних класів.

Приклад:

```python
from dataclasses import dataclass

@dataclass
class Point:
    x: int
    y: int
    z: int = 0  # Значення за замовчуванням
```

Вище наведений клас Point автоматично отримає методи `__init__`, `__repr__`, та `__eq__` завдяки декоратору `@dataclass`.

Імутабельність:

Якщо ви хочете, щоб екземпляри вашого data class були незмінними (тобто жоден з його атрибутів не міг би бути змінений після створення), ви можете використовувати параметр `frozen`:

```python
@dataclass(frozen=True)
class ImmutablePoint:
    x: int
    y: int
```

Тепер будь-яка спроба змінити `x` або `y` призведе до `FrozenInstanceError`.

Порівняння з іншими "структурами даних":

- Тюпли (tuples): Вони незмінні та позиційно-залежні. Data classes, навпаки, залежать від імені атрибутів, що робить їх більш зрозумілими для більших наборів даних.
- Словники (dicts): Хоча словники є дуже гнучкими, вони не підтримують анотації типів на рівні атрибута (хоча `TypedDict` з `typing` це змінює) і не мають стандартних методів як `__repr__` чи `__eq__`.
- `NamedTuple`: Це імутабельний предок data classes, але він не підтримує зміни після визначення, такі як додавання нових методів чи змінних класу.

В цілому, `dataclasses` надає компроміс між простотою та потужністю при роботі з класами, що зберігають дані.
